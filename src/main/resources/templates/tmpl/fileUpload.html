<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>

<body>
	<!--파일은 json으로 주고 받을 수 없다-->
	<input type="file" id="file"><br>
	<button onclick="upload()">file upload</button><br>
	<progress value="0" max="100" id="prog"></progress>
	<script>
		/*
		window.addEventListener('load',function(){
			const inter= setInterval(function(){
				document.querySelector('#prog').value=cnt++;
				if(cnt==100){
					clearInterval(inter);
				}
			}, 500);	//0.5초마다 동작
  		})
  		*/
  		
  		function upload(){
			  const xhr=new XMLHttpRequest();
			  const param=new FormData();
			  param.upload('file',document.querySelector('#file'),files[0]);
			  xhr.open('POST','/req/file');
			  xhr.onreadystatechange=function(){
				  if(xhr.readyState===xhr.DONE){
					  	if(xhr.status===200){
							  console.log(xhr.responseText);
						  }
				  }
			  }
			  xhr.send(param);
		  }
	</script>
</body>
</html>